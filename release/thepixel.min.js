angular.module("j3lte.thePixel",[]),angular.module("j3lte.thePixel").service("pixelService",[function(){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=function(){return Math.floor(new Date/1e3)},c=function(){return Math.floor(1e9*Math.random())},d=function(){return Math.floor(16777215*Math.random()).toString(16)},e=function(b){if(!b)return null;if(window.btoa)return window.btoa(b);"string"!=typeof b&&(b+="");var c,d,e,f,g,h,i,j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),e=b.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),j=j+a.charAt(f)+a.charAt(g)+a.charAt(h)+a.charAt(i);while(k<b.length);return j},f=function(b){if(!b)return null;if(window.atob)return window.atob(b);var c,d,e,f,g,h,i,j="",k=0;b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),h=a.indexOf(b.charAt(k++)),i=a.indexOf(b.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!==h&&(j+=String.fromCharCode(d)),64!==i&&(j+=String.fromCharCode(e));while(k<b.length);return j};return{time:b,random:c,randomColor:d,encode:e,decode:f}}]),angular.module("j3lte.thePixel").directive("thePixel",["$compile","pixelService",function(a,b){"use strict";return{restrict:"A",replace:!0,transclude:!0,template:'<div class="thepixel"></div>',link:function(a,c,d){switch(d.thePixel){case"random":c.addClass("random");break;default:c.addClass("static")}if(angular.isDefined(d.thePixelPosition)){var e=d.thePixelPosition.split(",");if(3===e.length&&"random"!==d.thePixel&&("absolute"===e[0]||"fixed"===e[0])){c[0].style.position=e[0];var f=parseInt(e[1],10),g=parseInt(e[2],10);f>=0?c[0].style.top=f+"px":c[0].style.bottom=0-f+"px",g>=0?c[0].style.left=g+"px":c[0].style.right=0-g+"px"}}angular.isDefined(d.thePixelColor)&&(c[0].style["background-color"]="rand"===d.thePixelColor?"#"+b.randomColor():d.thePixelColor);var h;if(angular.isDefined(d.thePixelShow)){var i=d.thePixelShow.match(/(^.*?)\((.*?)\)/),j=i?i[1]:d.thePixelShow;h="random"===j?b.random:b.time}else h=b.time;a.action=function(){var a=h();angular.isDefined(d.thePixelEncode)&&(a=b.encode(a)),alert(a)},c.bind("click",a.action)}}}]);