angular.module("j3lte.thePixel",[]),angular.module("j3lte.thePixel").service("pixelService",[function(){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=function(){return Math.floor(new Date/1e3)},c=function(){return Math.floor(1e9*Math.random())},d=function(){return Math.floor(16777215*Math.random()).toString(16)},e=function(b){"string"!=typeof b&&(b+="");var c,d,e,f,g,h,i,j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),e=b.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),j=j+a.charAt(f)+a.charAt(g)+a.charAt(h)+a.charAt(i);while(k<b.length);return j},f=function(b){var c,d,e,f,g,h,i,j="",k=0;b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),h=a.indexOf(b.charAt(k++)),i=a.indexOf(b.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!==h&&(j+=String.fromCharCode(d)),64!==i&&(j+=String.fromCharCode(e));while(k<b.length);return j};return{time:b,random:c,randomColor:d,encode:e,decode:f}}]),angular.module("j3lte.thePixel").directive("thePixel",["$compile","pixelService",function(a,b){"use strict";return{restrict:"A",replace:!0,transclude:!0,template:'<div class="thepixel" href="#" ng-click="action()"></div>',controller:["$scope","$element","$attrs",function(a,c,d){var e;if(d.thePixelShow){var f,g=d.thePixelShow.match(/(^.*?)\((.*?)\)/);f=g?g[1]:d.thePixelShow,e="rand"===f?b.random:b.time}else e=b.time;a.action=function(){var a=d.thePixelEncode&&"true"===d.thePixelEncode?b.encode(e()):e();alert(a)}}],compile:function(a,c){switch(c.thePixel){case"random":a.addClass("random");break;default:a.addClass("static")}if(c.thePixelPosition){var d=c.thePixelPosition.split(",");if(3===d.length&&"random"!==c.thePixel&&("absolute"===d[0]||"fixed"===d[0])){a[0].style.position=d[0];var e=parseInt(d[1],10),f=parseInt(d[2],10);e>=0?a[0].style.top=e+"px":a[0].style.bottom=0-e+"px",f>=0?a[0].style.left=f+"px":a[0].style.right=0-f+"px"}}c.thePixelColor&&(a[0].style["background-color"]="rand"===c.thePixelColor?"#"+b.randomColor():c.thePixelColor)}}}]);